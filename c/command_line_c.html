---
title: command line c
---

<p>
    When working with c or c++ in the command line I usually make scripts to help me with common tasks. Usually I will make a few scripts to activate different kinds of builds quickly
</p>

<p><span class="goal">These scripts should be project independent so that we can re-use them in any given c/c++ project.</span></p>

<p>
    <i>Note: My toolchain is cmake for builds, clang for formatting, and bash for scripting</i>
</p>

<p>
    The first step of this process is to create a scripts dir in the root of the project
</p>

<p>

    We'll start with a script which moves us to the correct directory: <code>scripts/move_to_base_project_dir.sh</code>
</p>


<div class="code-file" data-file-name="../move_to_base_project_dir.sh"></div>

Notes:

<ul>
    <li>we're making this a script because if we ever change our project dir we can still use these scripts from anywhere</li>
    <li>[your project directory] must be an absolute path, this is because we will run this script multiple times, if it was a relative path say "..", then we would continually be moving back a directory.</li>
    <li><span class="todo">Add an argument to each script which mentions if it's already in the project dir, if it is don't cd again, this will allow support for relative paths</span></li>
</ul>

<h1>CMake</h1>

<h2>gotcha's</h2>
<ul>
    <li>CMake is not:</li>
        <ul>
            <li>A compiler</li>
            <li>A build system</li>
        </ul>
    <li>Cmake indeed:</li>
    <ul>
        <li>Generates the required files for the build system that exists on your operating system, for example on linux it may generate make files, if you're using VSCode it will generate solution files.</li>
        <li>Is an abstraction above the compiler that let's you write CMake instructions on how to build your project without binding yourself to a specific build system such as make</li>
        <li>Makes it possible for you to compile the same code on multiple operating systems, because different operating systems may use different build systems</li>
    </ul>
</ul>

<h2>compiling a program</h2>

<p>
    Because <code>cmake</code> provides a solution to a complex problem, it is highly configurable, and usually a highly configurable systems make doing simple things a little more involved, indeed this manifests itself in cmake while trying to build a simple project. Here's the breakdown
</p>

<p>With cmake we start by generating the build system (on my machine this will create a makefile)</p>

<div class="code-file" data-file-name="../generate_build_system.sh"></div>

<p>Next we can build the project</p>

<div class="code-file" data-file-name="../build.sh"></div>

<p>If we want to generate the build system and build all at once</p>

<div class="code-file" data-file-name="../build_process.sh"></div>

<p>Now that you've built your project run it</p>

<div class="code-file" data-file-name="../run.sh"></div>

<p>You've made some edits, and you want to build and run the program</p>

<div class="code-file" data-file-name="../build_and_run.sh"></div>

<p>Notice that the only parameters to these scripts were the executable name and the project directory, to complete our goal, we should store these in a file and load them in dynamically</p>
